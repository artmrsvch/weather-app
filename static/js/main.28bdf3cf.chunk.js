(this["webpackJsonpweater-app"]=this["webpackJsonpweater-app"]||[]).push([[0],{65:function(e,t,a){e.exports=a(76)},70:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=a(25),s=(a(70),a(30)),l=a(24),u=a(108),m=a(120),d=a(111),h=a(113),f=a(114),p=Object(u.a)((function(){return Object(m.a)({root:{flexGrow:1},title:{flexGrow:1}})})),y=function(e){var t=e.lang,a=Object(l.g)().location.pathname,n=function(e){return{forecast:"en"===e?"Forecast":"\u041f\u0440\u043e\u0433\u043d\u043e\u0437",history:"en"===e?"Watch History":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"}}(t),c=p();return r.a.createElement("div",{className:c.root},r.a.createElement(d.a,{position:"static"},r.a.createElement(h.a,null,r.a.createElement(f.a,{variant:"h6",className:c.title},"Weather-App"),r.a.createElement(i.b,{"data-name":"forecast",className:"header-link ".concat("/forecast"===a&&"header-link_active"),to:"/forecast"},n.forecast),r.a.createElement(i.b,{"data-name":"history",className:"header-link ".concat("/history"===a&&"header-link_active"),to:"/history"},n.history))))},E=a(33),v=a.n(E),g=a(39),w=a(118),b=a(119),N=function(e){var t=e.weatherList;return r.a.createElement("div",{className:"forecast-weather"},r.a.createElement("h2",{className:"forecast-weather__title"},t.country),r.a.createElement("ul",{className:"forecast-weather__list"},t.list.map((function(e,t){return r.a.createElement("li",{key:t,className:"forecast-weather__item"},r.a.createElement("h3",{className:"forecast-weather__headline"},e.date.week," ",e.date.mounth),r.a.createElement("div",{className:"forecast-days"},r.a.createElement("div",null,r.a.createElement("div",{className:"forecast-weather-main"},r.a.createElement("img",{className:"forecast-days__img",src:e.descript.icon,alt:"weather-icon"}),r.a.createElement("div",{className:"forecast-weather-main__secondary"},r.a.createElement("span",{className:"forecast-weather-main__cels"},e.temp.day))),r.a.createElement("div",{className:"forecast-weather-main__descript"},e.descript.text)),r.a.createElement("ul",{className:"forecast-days__list"},r.a.createElement("li",{className:"forecast-days__item"},e.temp.max),r.a.createElement("li",{className:"forecast-days__item"},e.temp.min),r.a.createElement("li",{className:"forecast-days__item"},e.speed))))}))))},_=[{ru:"\u041b\u043e\u043d\u0434\u043e\u043d",en:"London"},{ru:"\u041c\u043e\u0441\u043a\u0432\u0430",en:"Moscow"},{ru:"\u041a\u0438\u0435\u0432",en:"Kiev"},{ru:"\u041c\u0438\u043d\u0441\u043a",en:"Minsk"},{ru:"\u0414\u043e\u043d\u0435\u0446\u043a",en:"Donetsk"},{ru:"\u0421\u043e\u0447\u0438",en:"Sochi"},{ru:"\u0420\u0438\u0433\u0430",en:"Riga"},{ru:"\u041f\u0430\u0440\u0438\u0436",en:"Paris"},{ru:"\u0420\u0438\u043c",en:"Rome"},{ru:"\u0425\u0430\u0431\u0430\u0440\u043e\u0432\u0441\u043a",en:"Khabarovsk"},{ru:"\u0425\u0430\u0440\u044c\u043a\u043e\u0432",en:"Kharkiv"},{ru:"\u042f\u043b\u0442\u0430",en:"Yalta"}],k=[{ru:"\u042f\u043d\u0432\u0430\u0440\u044f",en:"January"},{ru:"\u0424\u0435\u0432\u0440\u0430\u043b\u044f",en:"February"},{ru:"\u041c\u0430\u0440\u0442\u0430",en:"March"},{ru:"\u0410\u043f\u0440\u0435\u043b\u044f",en:"April"},{ru:"\u041c\u0430\u044f",en:"May"},{ru:"\u0418\u044e\u043d\u044f",en:"June"},{ru:"\u0418\u044e\u043b\u044f",en:"July"},{ru:"\u0410\u0432\u0433\u0443\u0441\u0442\u0430",en:"August"},{ru:"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f",en:"September"},{ru:"\u041e\u043a\u0442\u044f\u0431\u0440\u044f",en:"Octomber"},{ru:"\u041d\u043e\u044f\u0431\u0440\u044f",en:"November"},{ru:"\u0414\u0435\u043a\u0430\u0431\u0440\u044f",en:"December"}],x=[{ru:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",en:"Sunday"},{ru:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",en:"Monday"},{ru:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",en:"Tuesday"},{ru:"\u0421\u0440\u0435\u0434\u0430",en:"Wednesday"},{ru:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",en:"Thursday"},{ru:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",en:"Friday"},{ru:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430",en:"Sturday"}],O="b1b35bba8b434a28a0be2a3e1071ae5b",S=function(e){return e<10?"0".concat(e):e.toString()},D=function(e,t,a){return a.map((function(t){return"en"===e?t.en:t.ru}))[t--]},j=function(e,t){var a=1e3*Number(e),n=new Date;n.setTime(a);var r=S(n.getDate()),c=D(t,n.getDay(),x),o=D(t,n.getMonth(),k);return{mounth:"".concat(r," ").concat(o),week:c}},M=function(e,t){var a=L(t);return{country:"".concat(e.city.name,", ").concat(e.city.country),list:e.list.map((function(e){return{date:j(e.dt,t),speed:"".concat(a.speedText," ").concat(e.speed," ").concat(a.speedUnit),temp:{day:"".concat(Math.ceil(e.temp.day),"\xb0\u0421"),max:"".concat(a.tempMax," ").concat(Math.ceil(e.temp.max),"\xb0\u0421"),min:"".concat(a.tempMin," ").concat(Math.ceil(e.temp.min),"\xb0\u0421")},descript:{icon:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),text:(n=e.weather[0].description,n[0].toUpperCase()+n.slice(1))}};var n}))}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ru",a="https://api.openweathermap.org/data/2.5/forecast/daily?q=".concat(e,"&units=metric&lang=").concat(t,"&cnt=3&appid=").concat(O);return fetch(a).then((function(e){return e.json()})).then((function(e){return e}))},J=function(e,t){return new Promise(function(){var a=Object(g.a)(v.a.mark((function a(n){var r,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(e,t);case 3:r=a.sent,c=M(r,t),n(c),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}())},L=function(e){return{tempMax:"en"===e?"Max t\xb0:":"\u041c\u0430\u043a\u0441 t\xb0:",tempMin:"en"===e?"Min t\xb0:":"\u041c\u0438\u043d t\xb0:",speedUnit:"en"===e?"m/s":"\u043c/c",speedText:"en"===e?"Wind:":"\u0412\u0435\u0442\u0435\u0440:"}},W=function(){return localStorage.weather?JSON.parse(localStorage.weather):null},F=function(e,t){var a=q(t);return{createDateForSort:a.createDate,reqDate:a.requsetDate,country:e.country,list:e.list.map((function(e){return{date:e.date.mounth,week:e.date.week,temp:e.temp.day,img:e.descript.icon,descript:e.descript.text}}))}},T=function(e,t){if(localStorage.weather){var a=W();a.push(F(e,t));var n=JSON.stringify(a);localStorage.setItem("weather",n)}else{var r=JSON.stringify([F(e,t)]);localStorage.setItem("weather",r)}},q=function(e){var t=new Date,a={hours:S(t.getHours()),minutes:S(t.getMinutes()),dayNumber:S(t.getDate()),week:D(e,t.getDay(),x),mounth:D(e,t.getDay(),k)},n=a.hours,r=a.minutes,c=a.dayNumber,o=a.week,i=a.mounth;return{createDate:t.getTime().toString(),requsetDate:"".concat(n,":").concat(r,", ").concat(c," ").concat(i,", ").concat(o)}},I=function(e,t){if(e.length){var a=--e.length;return t.slice(0,a+5)}return t.slice(0,5)},P=function(e){var t=e.lang,a=Object(n.useState)(null),c=Object(s.a)(a,2),o=c[0],i=c[1],l=function(e,t){return t.map((function(t){return"en"===e?t.en:t.ru}))}(t,_),u=function(e){return{title:"en"===e?"Current weather forecast for 3 days":"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u043d\u0430 3 \u0434\u043d\u044f",placeholder:"en"===e?" Choose a city":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"}}(t),m=function(){var e=Object(g.a)(v.a.mark((function e(a){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.target.textContent,"LI"!==a.target.tagName){e.next=7;break}return e.next=4,J(n,t);case 4:r=e.sent,T(r,t),i(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i(null)}),[t]),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"forecast-title"},u.title),r.a.createElement("div",{className:"forecast"},r.a.createElement("div",{className:"forecast__autocomplete"},r.a.createElement(b.a,{id:"combo-box-demo",onChange:m,options:l,getOptionLabel:function(e){return e},style:{width:700,boxSizing:"border-box"},renderInput:function(e){return r.a.createElement(w.a,Object.assign({},e,{label:u.placeholder,variant:"outlined"}))}})),o&&r.a.createElement(N,{weatherList:o})))},R=a(117),U=a(121),A=function(e){var t=e.lang,a=e.data,n=e.setDirection,c=function(e){return{new:"en"===e?"New first":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",old:"en"===e?"Old first":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435"}}(t),o=function(e,t){var a=e.concat(),n={from:t?1:-1,to:t?-1:1},r=n.from,c=n.to;return a.sort((function(e,t){return Number(e.createDateForSort)<Number(t.createDateForSort)?r:c}))};return r.a.createElement("div",{className:"direction-select"},r.a.createElement("span",null,c.old),r.a.createElement(U.a,{defaultChecked:!1,onChange:function(e){var t=e.target.checked,r=a?o(a,t):null;n(r)},color:"default",inputProps:{"aria-label":"checkbox with default color"}}),r.a.createElement("span",null,c.new))},H=Object(u.a)((function(e){return Object(m.a)({root:{"& > *":{margin:e.spacing(1)}}})})),K=function(e){var t=e.lang,a=Object(n.useState)([]),c=Object(s.a)(a,2),o=c[0],i=c[1],l=H(),u=Object(n.useRef)(null),m=function(e){return{title:"en"===e?"Weather View History":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432 \u043f\u043e\u0433\u043e\u0434\u044b",story:"en"===e?"You have not watched the weather":"\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0432\u0430\u043b\u0438 \u043f\u043e\u0433\u043e\u0434\u0443",btn:"en"===e?"Show more":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"}}(t);return Object(n.useEffect)((function(){var e=W();if(e){u.current=e;var t=I(o,u.current);i(t)}}),[]),r.a.createElement("div",{className:"container container-history"},r.a.createElement("h1",{className:"title"},m.title),r.a.createElement(A,{data:o,lang:t,setDirection:i}),r.a.createElement("div",{className:"history"},r.a.createElement("ul",{className:"history-list"},!o&&m.story,o&&o.map((function(e,t){return r.a.createElement("li",{key:t,className:"history-list__item"},r.a.createElement("div",{className:"history-list-time"},r.a.createElement("div",{className:"history-list-time__date"},e.reqDate),r.a.createElement("h3",{className:"history-list-time__country"},e.country)),r.a.createElement("ul",{className:"history-weater-list"},e.list.map((function(e,t){return r.a.createElement("li",{key:t,className:"history-weater-list__item"},r.a.createElement("div",{className:"history-weater-list__date"},r.a.createElement("div",{className:"history-weater-list__day"},e.date),r.a.createElement("div",{className:"history-weater-list__day"},e.week)),r.a.createElement("div",{className:"history-weater-list__info"},r.a.createElement("span",{className:"history-weater-list__temp"},e.temp),r.a.createElement("img",{src:e.img,alt:"weater-pic"})),r.a.createElement("div",{className:"history-weater-list__descript"},e.descript))}))))})))),r.a.createElement("div",{className:l.root},r.a.createElement(R.a,{disabled:function(e,t){return!t||!e||e.length===t.length}(u.current,o),onClick:function(){var e=I(o,u.current);i(e)},variant:"contained"},m.btn)))},B=function(e){var t=e.lang,a=e.chooseLang;return r.a.createElement("div",{className:"lang-select"},r.a.createElement("span",null,"RU"),r.a.createElement(U.a,{checked:"ru"!==t,onChange:function(e){a(e.target.checked?"en":"ru")},color:"default",inputProps:{"aria-label":"checkbox with default color"}}),r.a.createElement("span",null,"EN"))},G=function(){var e=Object(n.useState)(function(){var e=navigator.language.split("-")[0];return"ru"!==e&&"en"!==e?"ru":e}()),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"app"},r.a.createElement(y,{lang:a}),r.a.createElement(B,{lang:a,chooseLang:c}),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/forecast",render:function(){return r.a.createElement(P,{lang:a})}}),r.a.createElement(l.b,{path:"/history",render:function(){return r.a.createElement(K,{lang:a})}}),r.a.createElement(l.a,{to:"/forecast"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[65,1,2]]]);
//# sourceMappingURL=main.28bdf3cf.chunk.js.map